<section class="container mx-auto px-4 py-12 max-w-4xl">

    <!-- Zoekbalk -->
    <div class="mb-10">
        <div class="relative max-w-xl mx-auto">
            <input type="text" id="faq-search" placeholder="Zoek je vraag..."
                   class="w-full px-5 py-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent">
            <button class="absolute right-3 top-3 text-gray-400 hover:text-indigo-600">
                <i class="fas fa-search"></i>
            </button>
        </div>
    </div>

    <div class="flex flex-wrap justify-center gap-3 mb-10">
        {{ catogory }}
        <button class="px-4 py-2 bg-indigo-600 text-white rounded-full hover:bg-indigo-700 transition">{{ title }}</button>
        {{ /catogory }}
    </div>

    <div id="faq-container" class="space-y-4">
        {{ collection:faq }}
        <div class="faq-item bg-white rounded-xl shadow-md overflow-hidden transition-all duration-300 hover:shadow-lg">
            <button type="button" class="faq-question w-full  flex justify-between items-center p-6 text-left"
                    data-target="answer{{ id }}" data-arrow="arrow{{ id }}">
                <span class="text-lg font-semibold text-gray-800">{{ question }}</span>
                <svg id="arrow{{ id }}" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"
                     class="w-6 h-6 text-indigo-600 transition-transform duration-300">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                </svg>
            </button>

            <div id="answer{{ id }}" style="display:none" class="px-6 pb-6">
                <p class="text-gray-600">{{ answer }}</p>
            </div>
        </div>
        {{ /collection:faq }}
    </div>
</section>

<script>
    document.querySelectorAll('.faq-question').forEach(function(button) {
        button.addEventListener('click', function() {
            var answer = document.getElementById(button.dataset.target);
            var arrow = document.getElementById(button.dataset.arrow);
            var isOpen = answer.style.display === 'block';

            answer.style.display = isOpen ? 'none' : 'block';
            arrow.style.transform = isOpen ? 'rotate(0deg)' : 'rotate(180deg)';
        });
    });

    const searchInput = document.getElementById('faq-search');
    searchInput.addEventListener('input', function() {
        const query = searchInput.value.toLowerCase();
        document.querySelectorAll('#faq-container .faq-item').forEach(function(item) {
            const question = item.querySelector('.faq-question span').textContent.toLowerCase();
            if(question.includes(query)) {
                item.style.display = 'block';
            } else {
                item.style.display = 'none';
            }
        });
    });
</script>
